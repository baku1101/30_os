     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_sprintf
     7 00000000                                 	EXTERN	_io_hlt
     8 00000000                                 	EXTERN	_io_load_eflags
     9 00000000                                 	EXTERN	_io_cli
    10 00000000                                 	EXTERN	_io_out8
    11 00000000                                 	EXTERN	_io_store_eflags
    12 00000000                                 	EXTERN	_hankaku
    13 00000000                                 	EXTERN	_load_gdtr
    14 00000000                                 	EXTERN	_load_idtr
    15 00000000                                 [FILE "bootpack.c"]
    16                                          [SECTION .data]
    17 00000000                                 LC0:
    18 00000000 28 25 64 2C 20 25 64 29 00      	DB	"(%d, %d)",0x00
    19 00000009                                 LC1:
    20 00000009 41 42 43 20 31 32 33 00         	DB	"ABC 123",0x00
    21 00000011                                 LC2:
    22 00000011 73 63 72 6E 78 20 3D 20 25 64   	DB	"scrnx = %d",0x00
       0000001B 00 
    23                                          [SECTION .text]
    24 00000000                                 	GLOBAL	_HariMain
    25 00000000                                 _HariMain:
    26 00000000 55                              	PUSH	EBP
    27 00000001 89 E5                           	MOV	EBP,ESP
    28 00000003 57                              	PUSH	EDI
    29 00000004 56                              	PUSH	ESI
    30 00000005 53                              	PUSH	EBX
    31 00000006 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
    32 0000000C 81 EC 00000130                  	SUB	ESP,304
    33 00000012 E8 000004F2                     	CALL	_init_gdtidt
    34 00000017 E8 000000EE                     	CALL	_init_palette
    35 0000001C 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    36 00000023 50                              	PUSH	EAX
    37 00000024 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    38 0000002B 50                              	PUSH	EAX
    39 0000002C FF 35 00000FF8                  	PUSH	DWORD [4088]
    40 00000032 E8 000001BF                     	CALL	_init_screen
    41 00000037 B9 00000002                     	MOV	ECX,2
    42 0000003C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    43 00000043 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
    44 00000046 89 D0                           	MOV	EAX,EDX
    45 00000048 99                              	CDQ
    46 00000049 F7 F9                           	IDIV	ECX
    47 0000004B 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    48 00000052 83 EA 2C                        	SUB	EDX,44
    49 00000055 89 C7                           	MOV	EDI,EAX
    50 00000057 89 D0                           	MOV	EAX,EDX
    51 00000059 6A 0E                           	PUSH	14
    52 0000005B 99                              	CDQ
    53 0000005C F7 F9                           	IDIV	ECX
    54 0000005E 53                              	PUSH	EBX
    55 0000005F 89 C6                           	MOV	ESI,EAX
    56 00000061 E8 000003F0                     	CALL	_init_mouse_cursor8
    57 00000066 6A 10                           	PUSH	16
    58 00000068 53                              	PUSH	EBX
    59 00000069 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
    60 0000006C 56                              	PUSH	ESI
    61 0000006D 57                              	PUSH	EDI
    62 0000006E 6A 10                           	PUSH	16
    63 00000070 6A 10                           	PUSH	16
    64 00000072 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    65 00000079 50                              	PUSH	EAX
    66 0000007A FF 35 00000FF8                  	PUSH	DWORD [4088]
    67 00000080 E8 0000042E                     	CALL	_putblock8_8
    68 00000085 83 C4 34                        	ADD	ESP,52
    69 00000088 56                              	PUSH	ESI
    70 00000089 57                              	PUSH	EDI
    71 0000008A 68 [00000000]                   	PUSH	LC0
    72 0000008F 53                              	PUSH	EBX
    73 00000090 E8 [00000000]                   	CALL	_sprintf
    74 00000095 53                              	PUSH	EBX
    75 00000096 6A 07                           	PUSH	7
    76 00000098 6A 00                           	PUSH	0
    77 0000009A 6A 00                           	PUSH	0
    78 0000009C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    79 000000A3 50                              	PUSH	EAX
    80 000000A4 FF 35 00000FF8                  	PUSH	DWORD [4088]
    81 000000AA E8 00000358                     	CALL	_putfonts8_asc
    82 000000AF 83 C4 28                        	ADD	ESP,40
    83 000000B2 68 [00000009]                   	PUSH	LC1
    84 000000B7 6A 07                           	PUSH	7
    85 000000B9 6A 1E                           	PUSH	30
    86 000000BB 6A 1E                           	PUSH	30
    87 000000BD 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    88 000000C4 50                              	PUSH	EAX
    89 000000C5 FF 35 00000FF8                  	PUSH	DWORD [4088]
    90 000000CB E8 00000337                     	CALL	_putfonts8_asc
    91 000000D0 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    92 000000D7 50                              	PUSH	EAX
    93 000000D8 68 [00000011]                   	PUSH	LC2
    94 000000DD 53                              	PUSH	EBX
    95 000000DE E8 [00000000]                   	CALL	_sprintf
    96 000000E3 83 C4 24                        	ADD	ESP,36
    97 000000E6 53                              	PUSH	EBX
    98 000000E7 6A 07                           	PUSH	7
    99 000000E9 6A 40                           	PUSH	64
   100 000000EB 6A 10                           	PUSH	16
   101 000000ED 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   102 000000F4 50                              	PUSH	EAX
   103 000000F5 FF 35 00000FF8                  	PUSH	DWORD [4088]
   104 000000FB E8 00000307                     	CALL	_putfonts8_asc
   105 00000100 83 C4 18                        	ADD	ESP,24
   106 00000103                                 L2:
   107 00000103 E8 [00000000]                   	CALL	_io_hlt
   108 00000108 EB F9                           	JMP	L2
   109                                          [SECTION .data]
   110 0000001C                                 _table_rgb.0:
   111 0000001C 00                              	DB	0
   112 0000001D 00                              	DB	0
   113 0000001E 00                              	DB	0
   114 0000001F FF                              	DB	-1
   115 00000020 00                              	DB	0
   116 00000021 00                              	DB	0
   117 00000022 00                              	DB	0
   118 00000023 FF                              	DB	-1
   119 00000024 00                              	DB	0
   120 00000025 FF                              	DB	-1
   121 00000026 FF                              	DB	-1
   122 00000027 00                              	DB	0
   123 00000028 00                              	DB	0
   124 00000029 00                              	DB	0
   125 0000002A FF                              	DB	-1
   126 0000002B FF                              	DB	-1
   127 0000002C 00                              	DB	0
   128 0000002D FF                              	DB	-1
   129 0000002E 00                              	DB	0
   130 0000002F FF                              	DB	-1
   131 00000030 FF                              	DB	-1
   132 00000031 FF                              	DB	-1
   133 00000032 FF                              	DB	-1
   134 00000033 FF                              	DB	-1
   135 00000034 C6                              	DB	-58
   136 00000035 C6                              	DB	-58
   137 00000036 C6                              	DB	-58
   138 00000037 84                              	DB	-124
   139 00000038 00                              	DB	0
   140 00000039 00                              	DB	0
   141 0000003A 00                              	DB	0
   142 0000003B 84                              	DB	-124
   143 0000003C 00                              	DB	0
   144 0000003D 84                              	DB	-124
   145 0000003E 84                              	DB	-124
   146 0000003F 00                              	DB	0
   147 00000040 00                              	DB	0
   148 00000041 00                              	DB	0
   149 00000042 84                              	DB	-124
   150 00000043 84                              	DB	-124
   151 00000044 00                              	DB	0
   152 00000045 84                              	DB	-124
   153 00000046 00                              	DB	0
   154 00000047 84                              	DB	-124
   155 00000048 84                              	DB	-124
   156 00000049 84                              	DB	-124
   157 0000004A 84                              	DB	-124
   158 0000004B 84                              	DB	-124
   159                                          [SECTION .text]
   160 0000010A                                 	GLOBAL	_init_palette
   161 0000010A                                 _init_palette:
   162 0000010A 55                              	PUSH	EBP
   163 0000010B 89 E5                           	MOV	EBP,ESP
   164 0000010D 68 [0000001C]                   	PUSH	_table_rgb.0
   165 00000112 6A 0F                           	PUSH	15
   166 00000114 6A 00                           	PUSH	0
   167 00000116 E8 00000002                     	CALL	_set_palette
   168 0000011B C9                              	LEAVE
   169 0000011C C3                              	RET
   170 0000011D                                 	GLOBAL	_set_palette
   171 0000011D                                 _set_palette:
   172 0000011D 55                              	PUSH	EBP
   173 0000011E 89 E5                           	MOV	EBP,ESP
   174 00000120 57                              	PUSH	EDI
   175 00000121 56                              	PUSH	ESI
   176 00000122 53                              	PUSH	EBX
   177 00000123 51                              	PUSH	ECX
   178 00000124 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   179 00000127 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   180 0000012A 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   181 0000012D E8 [00000000]                   	CALL	_io_load_eflags
   182 00000132 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   183 00000135 E8 [00000000]                   	CALL	_io_cli
   184 0000013A 53                              	PUSH	EBX
   185 0000013B 68 000003C8                     	PUSH	968
   186 00000140 E8 [00000000]                   	CALL	_io_out8
   187 00000145 39 FB                           	CMP	EBX,EDI
   188 00000147 58                              	POP	EAX
   189 00000148 5A                              	POP	EDX
   190 00000149 7E 12                           	JLE	L11
   191 0000014B                                 L13:
   192 0000014B 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   193 0000014E 89 45 08                        	MOV	DWORD [8+EBP],EAX
   194 00000151 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   195 00000154 5B                              	POP	EBX
   196 00000155 5E                              	POP	ESI
   197 00000156 5F                              	POP	EDI
   198 00000157 5D                              	POP	EBP
   199 00000158 E9 [00000000]                   	JMP	_io_store_eflags
   200 0000015D                                 L11:
   201 0000015D 8A 06                           	MOV	AL,BYTE [ESI]
   202 0000015F 43                              	INC	EBX
   203 00000160 C0 E8 02                        	SHR	AL,2
   204 00000163 0F B6 C0                        	MOVZX	EAX,AL
   205 00000166 50                              	PUSH	EAX
   206 00000167 68 000003C9                     	PUSH	969
   207 0000016C E8 [00000000]                   	CALL	_io_out8
   208 00000171 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   209 00000174 C0 E8 02                        	SHR	AL,2
   210 00000177 0F B6 C0                        	MOVZX	EAX,AL
   211 0000017A 50                              	PUSH	EAX
   212 0000017B 68 000003C9                     	PUSH	969
   213 00000180 E8 [00000000]                   	CALL	_io_out8
   214 00000185 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   215 00000188 C0 E8 02                        	SHR	AL,2
   216 0000018B 83 C6 03                        	ADD	ESI,3
   217 0000018E 0F B6 C0                        	MOVZX	EAX,AL
   218 00000191 50                              	PUSH	EAX
   219 00000192 68 000003C9                     	PUSH	969
   220 00000197 E8 [00000000]                   	CALL	_io_out8
   221 0000019C 83 C4 18                        	ADD	ESP,24
   222 0000019F 39 FB                           	CMP	EBX,EDI
   223 000001A1 7E BA                           	JLE	L11
   224 000001A3 EB A6                           	JMP	L13
   225 000001A5                                 	GLOBAL	_boxfill8
   226 000001A5                                 _boxfill8:
   227 000001A5 55                              	PUSH	EBP
   228 000001A6 89 E5                           	MOV	EBP,ESP
   229 000001A8 57                              	PUSH	EDI
   230 000001A9 56                              	PUSH	ESI
   231 000001AA 53                              	PUSH	EBX
   232 000001AB 57                              	PUSH	EDI
   233 000001AC 57                              	PUSH	EDI
   234 000001AD 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   235 000001B0 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   236 000001B3 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   237 000001B6 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   238 000001B9 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   239 000001BC 7F 31                           	JG	L26
   240 000001BE 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   241 000001C1 0F AF D9                        	IMUL	EBX,ECX
   242 000001C4                                 L24:
   243 000001C4 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   244 000001C7 39 FA                           	CMP	EDX,EDI
   245 000001C9 7F 1B                           	JG	L28
   246 000001CB 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   247 000001CE 01 DE                           	ADD	ESI,EBX
   248 000001D0 01 D6                           	ADD	ESI,EDX
   249 000001D2 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   250 000001D5                                 L23:
   251 000001D5 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   252 000001D8 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   253 000001DB 42                              	INC	EDX
   254 000001DC 88 06                           	MOV	BYTE [ESI],AL
   255 000001DE 46                              	INC	ESI
   256 000001DF 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   257 000001E2 39 FA                           	CMP	EDX,EDI
   258 000001E4 7E EF                           	JLE	L23
   259 000001E6                                 L28:
   260 000001E6 41                              	INC	ECX
   261 000001E7 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   262 000001EA 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   263 000001ED 7E D5                           	JLE	L24
   264 000001EF                                 L26:
   265 000001EF 5B                              	POP	EBX
   266 000001F0 5E                              	POP	ESI
   267 000001F1 5B                              	POP	EBX
   268 000001F2 5E                              	POP	ESI
   269 000001F3 5F                              	POP	EDI
   270 000001F4 5D                              	POP	EBP
   271 000001F5 C3                              	RET
   272 000001F6                                 	GLOBAL	_init_screen
   273 000001F6                                 _init_screen:
   274 000001F6 55                              	PUSH	EBP
   275 000001F7 89 E5                           	MOV	EBP,ESP
   276 000001F9 57                              	PUSH	EDI
   277 000001FA 56                              	PUSH	ESI
   278 000001FB 53                              	PUSH	EBX
   279 000001FC 83 EC 0C                        	SUB	ESP,12
   280 000001FF 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   281 00000202 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   282 00000205 83 E8 1D                        	SUB	EAX,29
   283 00000208 4F                              	DEC	EDI
   284 00000209 50                              	PUSH	EAX
   285 0000020A 57                              	PUSH	EDI
   286 0000020B 6A 00                           	PUSH	0
   287 0000020D 6A 00                           	PUSH	0
   288 0000020F 6A 0E                           	PUSH	14
   289 00000211 FF 75 0C                        	PUSH	DWORD [12+EBP]
   290 00000214 FF 75 08                        	PUSH	DWORD [8+EBP]
   291 00000217 E8 FFFFFF89                     	CALL	_boxfill8
   292 0000021C 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   293 0000021F 83 E8 1C                        	SUB	EAX,28
   294 00000222 50                              	PUSH	EAX
   295 00000223 57                              	PUSH	EDI
   296 00000224 50                              	PUSH	EAX
   297 00000225 6A 00                           	PUSH	0
   298 00000227 6A 08                           	PUSH	8
   299 00000229 FF 75 0C                        	PUSH	DWORD [12+EBP]
   300 0000022C FF 75 08                        	PUSH	DWORD [8+EBP]
   301 0000022F E8 FFFFFF71                     	CALL	_boxfill8
   302 00000234 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   303 00000237 83 C4 38                        	ADD	ESP,56
   304 0000023A 83 E8 1B                        	SUB	EAX,27
   305 0000023D 50                              	PUSH	EAX
   306 0000023E 57                              	PUSH	EDI
   307 0000023F 50                              	PUSH	EAX
   308 00000240 6A 00                           	PUSH	0
   309 00000242 6A 07                           	PUSH	7
   310 00000244 FF 75 0C                        	PUSH	DWORD [12+EBP]
   311 00000247 FF 75 08                        	PUSH	DWORD [8+EBP]
   312 0000024A E8 FFFFFF56                     	CALL	_boxfill8
   313 0000024F 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   314 00000252 48                              	DEC	EAX
   315 00000253 50                              	PUSH	EAX
   316 00000254 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   317 00000257 57                              	PUSH	EDI
   318 00000258 83 E8 1A                        	SUB	EAX,26
   319 0000025B 50                              	PUSH	EAX
   320 0000025C 6A 00                           	PUSH	0
   321 0000025E 6A 08                           	PUSH	8
   322 00000260 FF 75 0C                        	PUSH	DWORD [12+EBP]
   323 00000263 FF 75 08                        	PUSH	DWORD [8+EBP]
   324 00000266 E8 FFFFFF3A                     	CALL	_boxfill8
   325 0000026B 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   326 0000026E 83 C4 38                        	ADD	ESP,56
   327 00000271 83 EE 18                        	SUB	ESI,24
   328 00000274 56                              	PUSH	ESI
   329 00000275 6A 3B                           	PUSH	59
   330 00000277 56                              	PUSH	ESI
   331 00000278 6A 03                           	PUSH	3
   332 0000027A 6A 07                           	PUSH	7
   333 0000027C FF 75 0C                        	PUSH	DWORD [12+EBP]
   334 0000027F FF 75 08                        	PUSH	DWORD [8+EBP]
   335 00000282 E8 FFFFFF1E                     	CALL	_boxfill8
   336 00000287 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   337 0000028A 83 E8 04                        	SUB	EAX,4
   338 0000028D 50                              	PUSH	EAX
   339 0000028E 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   340 00000291 6A 02                           	PUSH	2
   341 00000293 56                              	PUSH	ESI
   342 00000294 6A 02                           	PUSH	2
   343 00000296 6A 07                           	PUSH	7
   344 00000298 FF 75 0C                        	PUSH	DWORD [12+EBP]
   345 0000029B FF 75 08                        	PUSH	DWORD [8+EBP]
   346 0000029E E8 FFFFFF02                     	CALL	_boxfill8
   347 000002A3 83 C4 38                        	ADD	ESP,56
   348 000002A6 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   349 000002A9 6A 3B                           	PUSH	59
   350 000002AB FF 75 F0                        	PUSH	DWORD [-16+EBP]
   351 000002AE 6A 03                           	PUSH	3
   352 000002B0 6A 0F                           	PUSH	15
   353 000002B2 FF 75 0C                        	PUSH	DWORD [12+EBP]
   354 000002B5 FF 75 08                        	PUSH	DWORD [8+EBP]
   355 000002B8 E8 FFFFFEE8                     	CALL	_boxfill8
   356 000002BD 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   357 000002C0 83 E8 05                        	SUB	EAX,5
   358 000002C3 50                              	PUSH	EAX
   359 000002C4 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   360 000002C7 6A 3B                           	PUSH	59
   361 000002C9 83 E8 17                        	SUB	EAX,23
   362 000002CC 50                              	PUSH	EAX
   363 000002CD 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   364 000002D0 6A 3B                           	PUSH	59
   365 000002D2 6A 0F                           	PUSH	15
   366 000002D4 FF 75 0C                        	PUSH	DWORD [12+EBP]
   367 000002D7 FF 75 08                        	PUSH	DWORD [8+EBP]
   368 000002DA E8 FFFFFEC6                     	CALL	_boxfill8
   369 000002DF 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   370 000002E2 83 C4 38                        	ADD	ESP,56
   371 000002E5 83 E8 03                        	SUB	EAX,3
   372 000002E8 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   373 000002EB 50                              	PUSH	EAX
   374 000002EC 6A 3B                           	PUSH	59
   375 000002EE 50                              	PUSH	EAX
   376 000002EF 6A 02                           	PUSH	2
   377 000002F1 6A 00                           	PUSH	0
   378 000002F3 FF 75 0C                        	PUSH	DWORD [12+EBP]
   379 000002F6 FF 75 08                        	PUSH	DWORD [8+EBP]
   380 000002F9 E8 FFFFFEA7                     	CALL	_boxfill8
   381 000002FE FF 75 E8                        	PUSH	DWORD [-24+EBP]
   382 00000301 6A 3C                           	PUSH	60
   383 00000303 56                              	PUSH	ESI
   384 00000304 6A 3C                           	PUSH	60
   385 00000306 6A 00                           	PUSH	0
   386 00000308 FF 75 0C                        	PUSH	DWORD [12+EBP]
   387 0000030B FF 75 08                        	PUSH	DWORD [8+EBP]
   388 0000030E E8 FFFFFE92                     	CALL	_boxfill8
   389 00000313 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   390 00000316 83 C4 38                        	ADD	ESP,56
   391 00000319 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   392 0000031C 83 EB 04                        	SUB	EBX,4
   393 0000031F 83 EF 2F                        	SUB	EDI,47
   394 00000322 56                              	PUSH	ESI
   395 00000323 53                              	PUSH	EBX
   396 00000324 56                              	PUSH	ESI
   397 00000325 57                              	PUSH	EDI
   398 00000326 6A 0F                           	PUSH	15
   399 00000328 FF 75 0C                        	PUSH	DWORD [12+EBP]
   400 0000032B FF 75 08                        	PUSH	DWORD [8+EBP]
   401 0000032E E8 FFFFFE72                     	CALL	_boxfill8
   402 00000333 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   403 00000336 57                              	PUSH	EDI
   404 00000337 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   405 0000033A 57                              	PUSH	EDI
   406 0000033B 6A 0F                           	PUSH	15
   407 0000033D FF 75 0C                        	PUSH	DWORD [12+EBP]
   408 00000340 FF 75 08                        	PUSH	DWORD [8+EBP]
   409 00000343 E8 FFFFFE5D                     	CALL	_boxfill8
   410 00000348 83 C4 38                        	ADD	ESP,56
   411 0000034B FF 75 E8                        	PUSH	DWORD [-24+EBP]
   412 0000034E 53                              	PUSH	EBX
   413 0000034F FF 75 E8                        	PUSH	DWORD [-24+EBP]
   414 00000352 57                              	PUSH	EDI
   415 00000353 6A 07                           	PUSH	7
   416 00000355 FF 75 0C                        	PUSH	DWORD [12+EBP]
   417 00000358 FF 75 08                        	PUSH	DWORD [8+EBP]
   418 0000035B E8 FFFFFE45                     	CALL	_boxfill8
   419 00000360 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   420 00000363 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   421 00000366 83 E8 03                        	SUB	EAX,3
   422 00000369 50                              	PUSH	EAX
   423 0000036A 56                              	PUSH	ESI
   424 0000036B 50                              	PUSH	EAX
   425 0000036C 6A 07                           	PUSH	7
   426 0000036E FF 75 0C                        	PUSH	DWORD [12+EBP]
   427 00000371 FF 75 08                        	PUSH	DWORD [8+EBP]
   428 00000374 E8 FFFFFE2C                     	CALL	_boxfill8
   429 00000379 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   430 0000037C 5B                              	POP	EBX
   431 0000037D 5E                              	POP	ESI
   432 0000037E 5F                              	POP	EDI
   433 0000037F 5D                              	POP	EBP
   434 00000380 C3                              	RET
   435 00000381                                 	GLOBAL	_putfont8
   436 00000381                                 _putfont8:
   437 00000381 55                              	PUSH	EBP
   438 00000382 89 E5                           	MOV	EBP,ESP
   439 00000384 57                              	PUSH	EDI
   440 00000385 56                              	PUSH	ESI
   441 00000386 31 F6                           	XOR	ESI,ESI
   442 00000388 53                              	PUSH	EBX
   443 00000389 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   444 0000038C 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
   445 0000038F                                 L43:
   446 0000038F 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   447 00000392 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   448 00000395 01 F0                           	ADD	EAX,ESI
   449 00000397 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   450 0000039B 03 45 08                        	ADD	EAX,DWORD [8+EBP]
   451 0000039E 8D 0C 02                        	LEA	ECX,DWORD [EDX+EAX*1]
   452 000003A1 8A 14 3E                        	MOV	DL,BYTE [ESI+EDI*1]
   453 000003A4 84 D2                           	TEST	DL,DL
   454 000003A6 79 02                           	JNS	L35
   455 000003A8 88 19                           	MOV	BYTE [ECX],BL
   456 000003AA                                 L35:
   457 000003AA 88 D0                           	MOV	AL,DL
   458 000003AC 83 E0 40                        	AND	EAX,64
   459 000003AF 84 C0                           	TEST	AL,AL
   460 000003B1 74 03                           	JE	L36
   461 000003B3 88 59 01                        	MOV	BYTE [1+ECX],BL
   462 000003B6                                 L36:
   463 000003B6 88 D0                           	MOV	AL,DL
   464 000003B8 83 E0 20                        	AND	EAX,32
   465 000003BB 84 C0                           	TEST	AL,AL
   466 000003BD 74 03                           	JE	L37
   467 000003BF 88 59 02                        	MOV	BYTE [2+ECX],BL
   468 000003C2                                 L37:
   469 000003C2 88 D0                           	MOV	AL,DL
   470 000003C4 83 E0 10                        	AND	EAX,16
   471 000003C7 84 C0                           	TEST	AL,AL
   472 000003C9 74 03                           	JE	L38
   473 000003CB 88 59 03                        	MOV	BYTE [3+ECX],BL
   474 000003CE                                 L38:
   475 000003CE 88 D0                           	MOV	AL,DL
   476 000003D0 83 E0 08                        	AND	EAX,8
   477 000003D3 84 C0                           	TEST	AL,AL
   478 000003D5 74 03                           	JE	L39
   479 000003D7 88 59 04                        	MOV	BYTE [4+ECX],BL
   480 000003DA                                 L39:
   481 000003DA 88 D0                           	MOV	AL,DL
   482 000003DC 83 E0 04                        	AND	EAX,4
   483 000003DF 84 C0                           	TEST	AL,AL
   484 000003E1 74 03                           	JE	L40
   485 000003E3 88 59 05                        	MOV	BYTE [5+ECX],BL
   486 000003E6                                 L40:
   487 000003E6 88 D0                           	MOV	AL,DL
   488 000003E8 83 E0 02                        	AND	EAX,2
   489 000003EB 84 C0                           	TEST	AL,AL
   490 000003ED 74 03                           	JE	L41
   491 000003EF 88 59 06                        	MOV	BYTE [6+ECX],BL
   492 000003F2                                 L41:
   493 000003F2 83 E2 01                        	AND	EDX,1
   494 000003F5 84 D2                           	TEST	DL,DL
   495 000003F7 74 03                           	JE	L33
   496 000003F9 88 59 07                        	MOV	BYTE [7+ECX],BL
   497 000003FC                                 L33:
   498 000003FC 46                              	INC	ESI
   499 000003FD 83 FE 0F                        	CMP	ESI,15
   500 00000400 7E 8D                           	JLE	L43
   501 00000402 5B                              	POP	EBX
   502 00000403 5E                              	POP	ESI
   503 00000404 5F                              	POP	EDI
   504 00000405 5D                              	POP	EBP
   505 00000406 C3                              	RET
   506 00000407                                 	GLOBAL	_putfonts8_asc
   507 00000407                                 _putfonts8_asc:
   508 00000407 55                              	PUSH	EBP
   509 00000408 89 E5                           	MOV	EBP,ESP
   510 0000040A 57                              	PUSH	EDI
   511 0000040B 56                              	PUSH	ESI
   512 0000040C 53                              	PUSH	EBX
   513 0000040D 50                              	PUSH	EAX
   514 0000040E 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   515 00000411 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   516 00000414 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   517 00000417 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   518 0000041A 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   519 0000041D 80 3B 00                        	CMP	BYTE [EBX],0
   520 00000420 75 08                           	JNE	L51
   521 00000422                                 L53:
   522 00000422 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   523 00000425 5B                              	POP	EBX
   524 00000426 5E                              	POP	ESI
   525 00000427 5F                              	POP	EDI
   526 00000428 5D                              	POP	EBP
   527 00000429 C3                              	RET
   528 0000042A                                 L51:
   529 0000042A 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   530 0000042D C1 E0 04                        	SAL	EAX,4
   531 00000430 43                              	INC	EBX
   532 00000431 05 [00000000]                   	ADD	EAX,_hankaku
   533 00000436 50                              	PUSH	EAX
   534 00000437 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   535 0000043B 50                              	PUSH	EAX
   536 0000043C 57                              	PUSH	EDI
   537 0000043D 56                              	PUSH	ESI
   538 0000043E 83 C6 08                        	ADD	ESI,8
   539 00000441 FF 75 0C                        	PUSH	DWORD [12+EBP]
   540 00000444 FF 75 08                        	PUSH	DWORD [8+EBP]
   541 00000447 E8 FFFFFF35                     	CALL	_putfont8
   542 0000044C 83 C4 18                        	ADD	ESP,24
   543 0000044F 80 3B 00                        	CMP	BYTE [EBX],0
   544 00000452 75 D6                           	JNE	L51
   545 00000454 EB CC                           	JMP	L53
   546                                          [SECTION .data]
   547 0000004C                                 _cursor.1:
   548 0000004C 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************.."
       00000056 2A 2A 2A 2A 2E 2E 
   549 0000005C 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOOO*..."
       00000066 4F 4F 2A 2E 2E 2E 
   550 0000006C 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOO*...."
       00000076 4F 2A 2E 2E 2E 2E 
   551 0000007C 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOO*....."
       00000086 2A 2E 2E 2E 2E 2E 
   552 0000008C 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       00000096 2E 2E 2E 2E 2E 2E 
   553 0000009C 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000A6 2E 2E 2E 2E 2E 2E 
   554 000000AC 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000B6 2E 2E 2E 2E 2E 2E 
   555 000000BC 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       000000C6 2E 2E 2E 2E 2E 2E 
   556 000000CC 2A 4F 4F 4F 4F 2A 2A 4F 4F 4F   	DB	"*OOOO**OOO*....."
       000000D6 2A 2E 2E 2E 2E 2E 
   557 000000DC 2A 4F 4F 4F 2A 2E 2E 2A 4F 4F   	DB	"*OOO*..*OOO*...."
       000000E6 4F 2A 2E 2E 2E 2E 
   558 000000EC 2A 4F 4F 2A 2E 2E 2E 2E 2A 4F   	DB	"*OO*....*OOO*..."
       000000F6 4F 4F 2A 2E 2E 2E 
   559 000000FC 2A 4F 2A 2E 2E 2E 2E 2E 2E 2A   	DB	"*O*......*OOO*.."
       00000106 4F 4F 4F 2A 2E 2E 
   560 0000010C 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**........*OOO*."
       00000116 2A 4F 4F 4F 2A 2E 
   561 0000011C 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..........*OOO*"
       00000126 2E 2A 4F 4F 4F 2A 
   562 0000012C 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"............*OO*"
       00000136 2E 2E 2A 4F 4F 2A 
   563 0000013C 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	".............***"
       00000146 2E 2E 2E 2A 2A 2A 
   564                                          [SECTION .text]
   565 00000456                                 	GLOBAL	_init_mouse_cursor8
   566 00000456                                 _init_mouse_cursor8:
   567 00000456 55                              	PUSH	EBP
   568 00000457 89 E5                           	MOV	EBP,ESP
   569 00000459 57                              	PUSH	EDI
   570 0000045A 56                              	PUSH	ESI
   571 0000045B 31 FF                           	XOR	EDI,EDI
   572 0000045D 53                              	PUSH	EBX
   573 0000045E 31 DB                           	XOR	EBX,EBX
   574 00000460 50                              	PUSH	EAX
   575 00000461 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   576 00000464 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   577 00000467 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   578 0000046A                                 L67:
   579 0000046A 31 D2                           	XOR	EDX,EDX
   580 0000046C                                 L66:
   581 0000046C 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   582 0000046F 80 B8 [0000004C] 2A             	CMP	BYTE [_cursor.1+EAX],42
   583 00000476 74 35                           	JE	L72
   584 00000478                                 L63:
   585 00000478 80 B8 [0000004C] 4F             	CMP	BYTE [_cursor.1+EAX],79
   586 0000047F 74 26                           	JE	L73
   587 00000481                                 L64:
   588 00000481 80 B8 [0000004C] 2E             	CMP	BYTE [_cursor.1+EAX],46
   589 00000488 74 15                           	JE	L74
   590 0000048A                                 L61:
   591 0000048A 42                              	INC	EDX
   592 0000048B 83 FA 0F                        	CMP	EDX,15
   593 0000048E 7E DC                           	JLE	L66
   594 00000490 43                              	INC	EBX
   595 00000491 83 C7 10                        	ADD	EDI,16
   596 00000494 83 FB 0F                        	CMP	EBX,15
   597 00000497 7E D1                           	JLE	L67
   598 00000499 58                              	POP	EAX
   599 0000049A 5B                              	POP	EBX
   600 0000049B 5E                              	POP	ESI
   601 0000049C 5F                              	POP	EDI
   602 0000049D 5D                              	POP	EBP
   603 0000049E C3                              	RET
   604 0000049F                                 L74:
   605 0000049F 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   606 000004A2 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   607 000004A5 EB E3                           	JMP	L61
   608 000004A7                                 L73:
   609 000004A7 C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   610 000004AB EB D4                           	JMP	L64
   611 000004AD                                 L72:
   612 000004AD C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   613 000004B1 EB C5                           	JMP	L63
   614 000004B3                                 	GLOBAL	_putblock8_8
   615 000004B3                                 _putblock8_8:
   616 000004B3 55                              	PUSH	EBP
   617 000004B4 89 E5                           	MOV	EBP,ESP
   618 000004B6 57                              	PUSH	EDI
   619 000004B7 56                              	PUSH	ESI
   620 000004B8 31 F6                           	XOR	ESI,ESI
   621 000004BA 53                              	PUSH	EBX
   622 000004BB 83 EC 0C                        	SUB	ESP,12
   623 000004BE 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   624 000004C1 7D 3E                           	JGE	L87
   625 000004C3 31 FF                           	XOR	EDI,EDI
   626 000004C5                                 L85:
   627 000004C5 31 DB                           	XOR	EBX,EBX
   628 000004C7 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   629 000004CA 7D 2C                           	JGE	L89
   630 000004CC 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   631 000004CF 01 F8                           	ADD	EAX,EDI
   632 000004D1 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   633 000004D4                                 L84:
   634 000004D4 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   635 000004D7 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   636 000004DA 01 F0                           	ADD	EAX,ESI
   637 000004DC 01 DA                           	ADD	EDX,EBX
   638 000004DE 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   639 000004E2 01 D0                           	ADD	EAX,EDX
   640 000004E4 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   641 000004E7 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   642 000004EA 43                              	INC	EBX
   643 000004EB 8A 12                           	MOV	DL,BYTE [EDX]
   644 000004ED 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   645 000004F0 FF 45 EC                        	INC	DWORD [-20+EBP]
   646 000004F3 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   647 000004F6 7C DC                           	JL	L84
   648 000004F8                                 L89:
   649 000004F8 46                              	INC	ESI
   650 000004F9 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   651 000004FC 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   652 000004FF 7C C4                           	JL	L85
   653 00000501                                 L87:
   654 00000501 83 C4 0C                        	ADD	ESP,12
   655 00000504 5B                              	POP	EBX
   656 00000505 5E                              	POP	ESI
   657 00000506 5F                              	POP	EDI
   658 00000507 5D                              	POP	EBP
   659 00000508 C3                              	RET
   660 00000509                                 	GLOBAL	_init_gdtidt
   661 00000509                                 _init_gdtidt:
   662 00000509 55                              	PUSH	EBP
   663 0000050A 89 E5                           	MOV	EBP,ESP
   664 0000050C 56                              	PUSH	ESI
   665 0000050D 53                              	PUSH	EBX
   666 0000050E BE 00270000                     	MOV	ESI,2555904
   667 00000513 BB 00001FFF                     	MOV	EBX,8191
   668 00000518                                 L95:
   669 00000518 6A 00                           	PUSH	0
   670 0000051A 6A 00                           	PUSH	0
   671 0000051C 6A 00                           	PUSH	0
   672 0000051E 56                              	PUSH	ESI
   673 0000051F 83 C6 08                        	ADD	ESI,8
   674 00000522 E8 0000007B                     	CALL	_set_segmdesc
   675 00000527 83 C4 10                        	ADD	ESP,16
   676 0000052A 4B                              	DEC	EBX
   677 0000052B 79 EB                           	JNS	L95
   678 0000052D 68 00004092                     	PUSH	16530
   679 00000532 BE 0026F800                     	MOV	ESI,2553856
   680 00000537 6A 00                           	PUSH	0
   681 00000539 BB 000000FF                     	MOV	EBX,255
   682 0000053E 6A FF                           	PUSH	-1
   683 00000540 68 00270008                     	PUSH	2555912
   684 00000545 E8 00000058                     	CALL	_set_segmdesc
   685 0000054A 68 0000409A                     	PUSH	16538
   686 0000054F 68 00280000                     	PUSH	2621440
   687 00000554 68 0007FFFF                     	PUSH	524287
   688 00000559 68 00270010                     	PUSH	2555920
   689 0000055E E8 0000003F                     	CALL	_set_segmdesc
   690 00000563 83 C4 20                        	ADD	ESP,32
   691 00000566 68 00270000                     	PUSH	2555904
   692 0000056B 68 0000FFFF                     	PUSH	65535
   693 00000570 E8 [00000000]                   	CALL	_load_gdtr
   694 00000575 58                              	POP	EAX
   695 00000576 5A                              	POP	EDX
   696 00000577                                 L100:
   697 00000577 6A 00                           	PUSH	0
   698 00000579 6A 00                           	PUSH	0
   699 0000057B 6A 00                           	PUSH	0
   700 0000057D 56                              	PUSH	ESI
   701 0000057E 83 C6 08                        	ADD	ESI,8
   702 00000581 E8 00000066                     	CALL	_set_gatedesc
   703 00000586 83 C4 10                        	ADD	ESP,16
   704 00000589 4B                              	DEC	EBX
   705 0000058A 79 EB                           	JNS	L100
   706 0000058C 68 0026F800                     	PUSH	2553856
   707 00000591 68 000007FF                     	PUSH	2047
   708 00000596 E8 [00000000]                   	CALL	_load_idtr
   709 0000059B 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   710 0000059E 5B                              	POP	EBX
   711 0000059F 5E                              	POP	ESI
   712 000005A0 5D                              	POP	EBP
   713 000005A1 C3                              	RET
   714 000005A2                                 	GLOBAL	_set_segmdesc
   715 000005A2                                 _set_segmdesc:
   716 000005A2 55                              	PUSH	EBP
   717 000005A3 89 E5                           	MOV	EBP,ESP
   718 000005A5 53                              	PUSH	EBX
   719 000005A6 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   720 000005A9 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   721 000005AC 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   722 000005AF 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   723 000005B2 81 FA 000FFFFF                  	CMP	EDX,1048575
   724 000005B8 76 08                           	JBE	L106
   725 000005BA C1 EA 0C                        	SHR	EDX,12
   726 000005BD 0D 00008000                     	OR	EAX,32768
   727 000005C2                                 L106:
   728 000005C2 66 89 13                        	MOV	WORD [EBX],DX
   729 000005C5 88 43 05                        	MOV	BYTE [5+EBX],AL
   730 000005C8 C1 EA 10                        	SHR	EDX,16
   731 000005CB C1 F8 08                        	SAR	EAX,8
   732 000005CE 83 E2 0F                        	AND	EDX,15
   733 000005D1 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   734 000005D5 83 E0 F0                        	AND	EAX,-16
   735 000005D8 C1 F9 10                        	SAR	ECX,16
   736 000005DB 09 C2                           	OR	EDX,EAX
   737 000005DD 88 4B 04                        	MOV	BYTE [4+EBX],CL
   738 000005E0 88 53 06                        	MOV	BYTE [6+EBX],DL
   739 000005E3 C1 F9 08                        	SAR	ECX,8
   740 000005E6 88 4B 07                        	MOV	BYTE [7+EBX],CL
   741 000005E9 5B                              	POP	EBX
   742 000005EA 5D                              	POP	EBP
   743 000005EB C3                              	RET
   744 000005EC                                 	GLOBAL	_set_gatedesc
   745 000005EC                                 _set_gatedesc:
   746 000005EC 55                              	PUSH	EBP
   747 000005ED 89 E5                           	MOV	EBP,ESP
   748 000005EF 53                              	PUSH	EBX
   749 000005F0 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   750 000005F3 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   751 000005F6 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   752 000005F9 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   753 000005FC 66 89 42 02                     	MOV	WORD [2+EDX],AX
   754 00000600 88 5A 05                        	MOV	BYTE [5+EDX],BL
   755 00000603 66 89 0A                        	MOV	WORD [EDX],CX
   756 00000606 89 D8                           	MOV	EAX,EBX
   757 00000608 C1 F8 08                        	SAR	EAX,8
   758 0000060B C1 F9 10                        	SAR	ECX,16
   759 0000060E 88 42 04                        	MOV	BYTE [4+EDX],AL
   760 00000611 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   761 00000615 5B                              	POP	EBX
   762 00000616 5D                              	POP	EBP
   763 00000617 C3                              	RET
